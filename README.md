# Panatrans::KmlExtractor

Kml-extractor is a gem specifically developed to extract the data of from a KML export of the stops and routes generated by the Panamenian transport company MiBus http://mibus.com.pa.

This gem is a proxy to generate a GTFS feed. 

It's has been thought just to solve a particular problem and, although it has many things hardcoded for this particular case, it should not be very difficult for a ruby on rails developer to extend it or accomodate the code to another case.


## Installation

The best way is to clone this repository

```
    $ git clone https://github.com/merlos/panatrans-kml_extractor

```

## Usage

It includes a simple command line file that does the magic:

```
    cd panatrans-kml_extractor                 # enter the project
    mkdir output-dir                           # we create a directory for the output 
    cd output-dir                              # enter the directory
    ruby ../bin/kmlex.rb <path to kml_file>    # Output files will be saved on current working directory.

```

## Expected format of the KML file.

You have a few examples of the KML files on `test/fixtures/`

The gem just processes a KML file and outputs a GTFS feed. The KML should have two folders:
    * Folder of stops: A bunch of single points coordinates
    * Folder of routes/trips: A set of polylines.
    
## Tests

You can learn how to use the gem by reading the tests.

To run the test, just run the typical:

```
    rake tests
```



## License

The gem is available as open source under the terms of the [MIT License](http://opensource.org/licenses/MIT).

